---
vars_prompt:
  - name: bootstrap_fqdn
    prompt: "Enter the bootstrap FQDN for the local host"
    default: "foreman.labbuilder.lab"
    private: no
  - name: bootstrap_ip
    prompt: "Enter the bootstrap ipv4 address for the local host"
    default: "192.168.248.12"
    private: no
  - name: bootstrap_netmask
    prompt: "Enter the bootstrap network mask for the local host"
    default: "255.255.252.0"
    private: no
  - name: bootstrap_gateway
    prompt: "Enter the bootstrap gateway for the local host"
    default: "192.168.248.1"
    private: no
  - name: remote_bootstrap_fqdn
    prompt: "Enter the bootstrap FQDN for the REMOTE host"
    default: "buildmaster.labbuilder.lab"
    private: no
  - name: remote_bootstrap_ip
    prompt: "Enter the bootstrap ipv4 address for the REMOTE host"
    default: "192.168.248.10"
    private: no
  - name: redhat_org
    prompt: "Enter the Red Hat CDN organization"
    default: ""
    private: no
  - name: activation_key
    prompt: "Enter the Red Hat Activation Key for 'foreman' role. If provided, must enable Satellite."
    default: "foreman"
    private: no

- name: "Preparing host in role foreman with the following configuration"
  vars:
    msg: |
      ##bootstrap configuration
      fqdn:  {{ bootstrap_fqdn }}
      ipv4:  {{ bootstrap_ip }}
      netm:  {{ bootstrap_netmask }}
      gate:  {{ bootstrap_netmask }}
      prdn:  {{ remote_bootstrap_fqdn }}
      prip:  {{ remote_bootstrap_ip }}
      rhog:  {{ redhat_org }}
      actk:  {{ activation_key }}
  debug:
    msg: "{{ msg.split('\n') }}"


